<div class="stock-container">
  <h2>Stock Items</h2>

  @if (loading) {
    <p>Loading stock...</p>
  } @else if (error) {
    <p class="error">{{ error }}</p>
  } @else if (stockItems.length === 0) {
    <p>No stock items available.</p>
  } @else {
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Type</th>
          <th>Name</th>
          <th>Quantity</th>
          <th>Load Stock</th>
        </tr>
      </thead>
      <tbody>
        @for (item of stockItems; track item.id) {
          <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.type }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td><button (click)="openModal(item)">Load</button></td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>

<!-- Load Stock Modal -->
 @if (showModal && selectedItem) {
  <div class="modal-overlay">
  <div class="modal">
    <h3>Load Stock: {{ selectedItem.name }}</h3>

    <p>Current: {{ selectedItem.quantity }} / {{ selectedItem['full-stock'] }}</p>

    <input type="number" [(ngModel)]="addAmount" placeholder="Enter amount" />

    @if (validationError) {
      <p class="error">{{ validationError }}</p>
    }

    <div class="modal-actions">
      <button class="cancel-btn" (click)="closeModal()">Cancel</button>
      <button class="add-btn" (click)="confirmAdd()">Add</button>
    </div>
  </div>
</div>
 }
 
